<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.chart.PieChart?>
<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.estoquefx.controller.DashboardController"
            prefHeight="400.0" prefWidth="600.0">
    <VBox prefHeight="600" prefWidth="800" spacing="10" style="-fx-padding: 10;" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-padding: 5;">
            <Label text="ðŸ“Š Dashboard" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="btnAtualizar" text="ðŸ”„ Atualizar" onAction="#onAtualizar"
                    style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-padding: 5 15;" />
        </HBox>

        <!-- Linha 1: cards de mÃ©tricas -->
        <HBox spacing="10">
            <VBox prefWidth="180" style="-fx-background-color: #eeeeee; -fx-padding: 10; -fx-border-color: #cccccc;">
                <Label style="-fx-font-size: 11;" text="Valor total em estoque" />
                <Label fx:id="lblValorTotalR" style="-fx-font-size: 18; -fx-font-weight: bold;" text="R$ 0,00" />
            </VBox>

            <VBox prefWidth="180" style="-fx-background-color: #eeeeee; -fx-padding: 10; -fx-border-color: #cccccc;">
                <Label style="-fx-font-size: 11;" text="Produtos cadastrados" />
                <Label fx:id="lblQtdProdutosR" style="-fx-font-size: 18; -fx-font-weight: bold;" text="0" />
            </VBox>

            <VBox prefWidth="180" style="-fx-background-color: #eeeeee; -fx-padding: 10; -fx-border-color: #cccccc;">
                <Label style="-fx-font-size: 11;" text="Categorias" />
                <Label fx:id="lblQtdCategoriasR" style="-fx-font-size: 18; -fx-font-weight: bold;" text="0" />
            </VBox>

            <VBox prefWidth="180" style="-fx-background-color: #ffeeee; -fx-padding: 10; -fx-border-color: #ffcccc;">
                <Label style="-fx-font-size: 11;" text="Produtos em estoque baixo" />
                <Label fx:id="lblQtdUrgentesR" style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #c62828;" text="0" />
            </VBox>
        </HBox>

        <!-- grÃ¡fico e tabela -->
        <HBox spacing="10" VBox.vgrow="ALWAYS">
            <VBox spacing="5" HBox.hgrow="ALWAYS">
                <Label style="-fx-font-size: 13; -fx-font-weight: bold;" text="Valor por categoria (grÃ¡fico)" />
                <PieChart fx:id="pieCategoriasR" prefHeight="300" />
            </VBox>

            <VBox spacing="5" HBox.hgrow="ALWAYS">
                <Label style="-fx-font-size: 13; -fx-font-weight: bold;" text="Valor por categoria (tabela)" />
                <TableView fx:id="tabelaCategoriasR" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colCategoriaR" prefWidth="150" text="Categoria">
                            <cellValueFactory>
                                <PropertyValueFactory property="key" />
                            </cellValueFactory>
                        </TableColumn>
                        <TableColumn fx:id="colValorR" prefWidth="150" text="Valor em estoque">
                            <cellValueFactory>
                                <PropertyValueFactory property="value" />
                            </cellValueFactory>
                        </TableColumn>
                    </columns>
                </TableView>
            </VBox>
        </HBox>

    </VBox>
</AnchorPane>
